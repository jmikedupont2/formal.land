<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Formal Land RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Formal Land Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-MQLHF4EV4J"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-MQLHF4EV4J",{anonymize_ip:!0})</script><title data-react-helmet="true">Experiment on translation from Haskell to Coq | Formal Land</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://formal.land/img/land-512.png"><meta data-react-helmet="true" name="twitter:image" content="https://formal.land/img/land-512.png"><meta data-react-helmet="true" property="og:url" content="https://formal.land/blog/2024/02/14/experiment-coq-of-hs"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="Experiment on translation from Haskell to Coq | Formal Land"><meta data-react-helmet="true" name="description" content="We present an experiment coq-of-hs that we have made on the translation of Haskell programs to the proof system Coq&amp;nbsp;üêì. The goal is to formally verify Haskell programs to make them totally bug-free."><meta data-react-helmet="true" property="og:description" content="We present an experiment coq-of-hs that we have made on the translation of Haskell programs to the proof system Coq&amp;nbsp;üêì. The goal is to formally verify Haskell programs to make them totally bug-free."><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2024-02-14T00:00:00.000Z"><meta data-react-helmet="true" property="article:tag" content="coq-of-hs,Haskell,Coq,translation"><link data-react-helmet="true" rel="icon" href="/img/land-512.png"><link data-react-helmet="true" rel="canonical" href="https://formal.land/blog/2024/02/14/experiment-coq-of-hs"><link data-react-helmet="true" rel="alternate" href="https://formal.land/blog/2024/02/14/experiment-coq-of-hs" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://formal.land/blog/2024/02/14/experiment-coq-of-hs" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.20dc303f.css">
<link rel="preload" href="/assets/js/runtime~main.fdf35136.js" as="script">
<link rel="preload" href="/assets/js/main.4c8d64d1.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><div class="announcementBar_3WsW" style="background-color:#fafbfc;color:#091E42" role="banner"><div class="announcementBarContent_3EUC">For formal verification services, email us at <a href="mailto:&#099;&#111;&#110;&#116;&#097;&#099;&#116;&#064;formal&#046;&#108;&#097;&#110;&#100;">&#099;&#111;&#110;&#116;&#097;&#099;&#116;&#064;formal&#046;&#108;&#097;&#110;&#100;</a>!</div></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/land-512.png" alt="Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/land-512.png" alt="Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">Formal Land</b></a><a class="navbar__item navbar__link" href="/docs/company/about">Company</a><a class="navbar__item navbar__link" href="/docs/verification/ocaml">Formal verification</a><a class="navbar__item navbar__link" href="/docs/services/solidity-development">Services</a><a class="navbar__item navbar__link" href="/docs/coq-of-ocaml/introduction">coq-of-ocaml</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/formal-land" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://gitlab.com/formal-land" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitLab<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a aria-current="page" class="sidebarItemLink_1RT6 sidebarItemLinkActive_12pM" href="/blog/2024/02/14/experiment-coq-of-hs">Experiment on translation from Haskell to Coq</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2024/02/02/formal-verification-for-aleph-zero">The importance of formal verification</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2024/01/18/update-coq-of-rust">Upgrade the Rust version of coq-of-rust</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2024/01/04/rust-translating-match">Translating Rust match patterns to Coq with coq-of-rust</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2023/12/13/rust-verify-erc-20-smart-contract">Verifying an ERC-20 smart contract in Rust</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_GeHD" itemprop="headline">Experiment on translation from Haskell to Coq</h1><div class="blogPostData_291c margin-vert--md"><time datetime="2024-02-14T00:00:00.000Z" itemprop="datePublished">February 14, 2024</time> ¬∑ <!-- -->5 min read</div></header><div class="markdown" itemprop="articleBody"><p>We present an experiment <a href="https://github.com/formal-land/coq-of-hs-experiment" target="_blank" rel="noopener noreferrer">coq-of-hs</a> that we have made on the translation of <a href="https://www.haskell.org/" target="_blank" rel="noopener noreferrer">Haskell</a> programs to the proof system <a href="https://coq.inria.fr/" target="_blank" rel="noopener noreferrer">Coq<!-- -->¬†<!-- -->üêì</a>. The goal is to formally verify Haskell programs to make them totally bug-free.</p><p>Indeed, even with the use of a strict type system, there can still be bugs for properties that cannot be expressed with types. An example of such a property is the backward compatibility of an API endpoint for the new release of a web service when there has been code refactoring. Only formal verification can cover all execution cases and kinds of properties.</p><p>The code of the tool is at: <a href="https://github.com/formal-land/coq-of-hs-experiment" target="_blank" rel="noopener noreferrer">github.com/formal-land/coq-of-hs-experiment</a> (AGPL license)</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Contact</h5></div><div class="admonition-content"><p>We propose tools to make your codebase totally bug-free. Contact us at<!-- -->¬†<a href="mailto:contact@formal.land" target="_blank" rel="noopener noreferrer">c<!-- -->o<!-- -->n<!-- -->t<!-- -->a<!-- -->c<!-- -->t<!-- -->@<!-- -->formal<!-- -->.<!-- -->l<!-- -->a<!-- -->n<!-- -->d</a> for more information! We offer a free audit to assess the feasibility of formal verification for your case.</p></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Info</h5></div><div class="admonition-content"><p>We estimate that the cost of formal verification should be 20% of the development cost. There are no reasons to still have bugs today!</p></div></div><p><img alt="Haskell Logo" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNyAxMiI+CgkJPHBhdGggZmlsbD0iIzQ1M2E2MiIgZD0iTSAwIDEyIEwgNCA2IEwgMCAwIEwgMyAwIEwgNyA2IEwgMyAxMiIvPgoJCTxwYXRoIGZpbGw9IiM1ZTUwODYiIGQ9Ik0gNCAxMiBMIDggNiBMIDQgMCBMIDcgMCBMIDE1IDEyIEwgMTIgMTIgTCA5LjUgOC4yNSBMIDcgMTIiLz4KCQk8cGF0aCBmaWxsPSIjOGY0ZThiIiBkPSJNIDEzLjY2IDguNSBMIDEyLjMzMyA2LjUgTCAxNyA2LjUgTCAxNyA4LjUgTSAxMS42NjYgNS41IEwgMTAuMzMzIDMuNSBMIDE3IDMuNSBMIDE3IDUuNSIvPgo8L3N2Zz4="></p><h2 class="anchor anchorWithStickyNavbar_31ik" id="goal-of-the-experiment">Goal of the experiment<a class="hash-link" href="#goal-of-the-experiment" title="Direct link to heading">‚Äã</a></h2><p>There are already some tools to formally verify Haskell programs:</p><ul><li><a href="https://github.com/plclub/hs-to-coq" target="_blank" rel="noopener noreferrer">üêì hs-to-coq</a> translation from Haskell to Coq</li><li><a href="https://en.wikipedia.org/wiki/Liquid_Haskell" target="_blank" rel="noopener noreferrer">üíß Liquid Haskell</a> verification using <a href="https://en.wikipedia.org/wiki/Satisfiability_modulo_theories" target="_blank" rel="noopener noreferrer">SMT solvers</a></li></ul><p>In this experiment, we want to check the feasibility of translation from Haskell to Coq:</p><ul><li>üëç covering all the language without manual configuration or code changes,</li><li>üëé even if this is at the cost of a more verbose and low-level translation.</li></ul><h2 class="anchor anchorWithStickyNavbar_31ik" id="example">Example<a class="hash-link" href="#example" title="Direct link to heading">‚Äã</a></h2><p>Here is an example of a Haskell function:</p><div class="codeBlockContainer_K1bP language-haskell theme-code-block"><div class="codeBlockContent_hGly haskell"><pre tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">fixObvious :: (a -&gt; a) -&gt; a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fixObvious f = f (fixObvious f)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>that <code>coq-of-hs</code> translates to this valid Coq code:</p><div class="codeBlockContainer_K1bP language-coq theme-code-block"><div class="codeBlockContent_hGly coq"><pre tabindex="0" class="prism-code language-coq codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">CoFixpoint fixObvious : Val.t :=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  (Val.Lam (fun (f : Val.t) =&gt; (Val.App f (Val.App fixObvious f)))).</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_31ik" id="infrastructure">Infrastructure<a class="hash-link" href="#infrastructure" title="Direct link to heading">‚Äã</a></h2><p>We read the <a href="https://serokell.io/blog/haskell-to-core" target="_blank" rel="noopener noreferrer">Haskell Core</a> representation of Haskell using the GHC plugin system. Thus, we read the exact same code version as the one that is compiled down to assembly code by <a href="https://www.haskell.org/ghc/" target="_blank" rel="noopener noreferrer">GHC</a>, to take into account all compilation options.</p><p>Haskell Core is an intermediate representation of Haskell that is close to the lambda calculus and used by the Haskell compiler for various optimizations passes. Here are all the constructors of the<!-- -->¬†<code>Expr</code> type of Haskell Core:</p><div class="codeBlockContainer_K1bP language-haskell theme-code-block"><div class="codeBlockContent_hGly haskell"><pre tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">data Expr b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  = Var   Id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | Lit   Literal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | App   (Expr b) (Arg b)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | Lam   b (Expr b)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | Let   (Bind b) (Expr b)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | Case  (Expr b) b Type [Alt b]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | Cast  (Expr b) Coercion</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | Tick  (Tickish Id) (Expr b)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | Type  Type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | Coercion Coercion</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This paper <a href="https://repository.brynmawr.edu/cgi/viewcontent.cgi?article=1015&amp;context=compsci_pubs" target="_blank" rel="noopener noreferrer">System FC, as implemented in GHC</a> presents it as <a href="https://en.wikipedia.org/wiki/System_F" target="_blank" rel="noopener noreferrer">System F</a> plus coercions. We translate Haskell code to an untyped version of the lambda calculus in Coq, with co-induction to allow for infinite data structures:</p><div class="codeBlockContainer_K1bP language-coq theme-code-block"><div class="codeBlockContent_hGly coq"><pre tabindex="0" class="prism-code language-coq codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">Module Val.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  #[bypass_check(positivity)]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  CoInductive t : Set :=</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | Lit (_ : Lit.t)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | Con (_ : string) (_ : list t)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | App (_ _ : t)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | Lam (_ : t -&gt; t)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | Case (_ : t) (_ : t -&gt; list (Case.t t))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  | Impossible.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">End Val.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We make the translation by induction over the Haskell Core representation, and we translate each constructor to a corresponding constructor of the Coq representation. We pretty-print the Coq code directly without using an intermediate representation. We use the <a href="https://github.com/quchen/prettyprinter" target="_blank" rel="noopener noreferrer">prettyprinter</a> package with the two main following primitives:</p><div class="codeBlockContainer_K1bP language-haskell theme-code-block"><div class="codeBlockContent_hGly haskell"><pre tabindex="0" class="prism-code language-haskell codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">concatNest :: [Doc ()] -&gt; Doc ()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">concatNest = group . nest 2 . vsep</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">concatGroup :: [Doc ()] -&gt; Doc ()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">concatGroup = group . vsep</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>to display a sub-term with or without indentation when splitting lines that are too long. This translation works well on all the Haskell expressions that we have tested.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="missing-features">Missing features<a class="hash-link" href="#missing-features" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="semantics">Semantics<a class="hash-link" href="#semantics" title="Direct link to heading">‚Äã</a></h3><p>We have not yet defined a semantics. For now, the terms that we generate in Coq are purely descriptive. We will wait to have examples of things to verify to define semantics that are practical to use.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="type-classes">Type-classes<a class="hash-link" href="#type-classes" title="Direct link to heading">‚Äã</a></h3><p>We have not yet translated typeclasses. The Haskell Core language hides most of the typeclasses-related code. For example, it represents instances as additional function parameters for functions that have a typeclass constraints. But we still need to declare the functions corresponding to the member of the typeclasses, what we have not done yet.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="multi-file-projects">Multi-file projects<a class="hash-link" href="#multi-file-projects" title="Direct link to heading">‚Äã</a></h3><p>We have not yet implemented the translation of multi-file projects. We have only tested the translation of a single-file project.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="standard-library">Standard library<a class="hash-link" href="#standard-library" title="Direct link to heading">‚Äã</a></h3><p>Similarly to the handling of multi-file projects, we have not yet tested the translation of projects using external libraries or translating the base library of Haskell.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="strict-positivity">Strict positivity<a class="hash-link" href="#strict-positivity" title="Direct link to heading">‚Äã</a></h3><p>We had to turn off the strict positivity condition for the definition of<!-- -->¬†<code>Val.t</code> in Coq with:</p><div class="codeBlockContainer_K1bP language-coq theme-code-block"><div class="codeBlockContent_hGly coq"><pre tabindex="0" class="prism-code language-coq codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">#[bypass_check(positivity)]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This is for to the case:</p><div class="codeBlockContainer_K1bP language-coq theme-code-block"><div class="codeBlockContent_hGly coq"><pre tabindex="0" class="prism-code language-coq codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">| Lam (_ : t -&gt; t)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>where<!-- -->¬†<code>t</code> appears as a parameter of a function (negative position). We do not know if this causes any problem in practice, on values that correspond to well-typed Haskell programs.</p><h2 class="anchor anchorWithStickyNavbar_31ik" id="conclusion">Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">‚Äã</a></h2><p>We have presented an experiment on the translation of Haskell programs to Coq. If you are interested in this project, please get in touch with us at<!-- -->¬†<a href="mailto:contact@formal.land" target="_blank" rel="noopener noreferrer">c<!-- -->o<!-- -->n<!-- -->t<!-- -->a<!-- -->c<!-- -->t<!-- -->@<!-- -->formal<!-- -->.<!-- -->l<!-- -->a<!-- -->n<!-- -->d</a> or go to the <a href="https://github.com/formal-land/coq-of-hs-experiment" target="_blank" rel="noopener noreferrer">GitHub repository</a> of the project.</p></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_3kfx"><div class="col"><b>Tags:</b><ul class="tags_2ga9 padding--none margin-left--sm"><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/coq-of-hs">coq-of-hs</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/haskell">Haskell</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/coq">Coq</a></li><li class="tag_11ep"><a class="tag_1Okp tagRegular_3MiF" href="/blog/tags/translation">translation</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2024/02/02/formal-verification-for-aleph-zero"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">The importance of formal verification<!-- --> ¬ª</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#goal-of-the-experiment" class="table-of-contents__link toc-highlight">Goal of the experiment</a></li><li><a href="#example" class="table-of-contents__link toc-highlight">Example</a></li><li><a href="#infrastructure" class="table-of-contents__link toc-highlight">Infrastructure</a></li><li><a href="#missing-features" class="table-of-contents__link toc-highlight">Missing features</a><ul><li><a href="#semantics" class="table-of-contents__link toc-highlight">Semantics</a></li><li><a href="#type-classes" class="table-of-contents__link toc-highlight">Type-classes</a></li><li><a href="#multi-file-projects" class="table-of-contents__link toc-highlight">Multi-file projects</a></li><li><a href="#standard-library" class="table-of-contents__link toc-highlight">Standard library</a></li><li><a href="#strict-positivity" class="table-of-contents__link toc-highlight">Strict positivity</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Content</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/company/about">Company</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/company/claims">Claims</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/company/press">Press</a></li></ul></div><div class="col footer__col"><div class="footer__title">Links</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/LandFoobar" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://fr.linkedin.com/company/formal-land" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Linkedin<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://t.me/formal_land" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Telegram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.tiktok.com/@formal.land" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>TikTok<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="mailto:contact@formal.land" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Email<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/formal-land" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://gitlab.com/formal-land" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitLab<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://formal-land.gitlab.io/coq-tezos-of-ocaml/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Coq Tezos of OCaml<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2024 Formal Land (Arae SARL) üê¶, Paris<br><em>Formal verification for everyday-life applications üèá</em><!-- Start of LiveChat (www.livechat.com) code -->
<script>window.__lc=window.__lc||{},window.__lc.license=14938650,function(n,t,c){function i(n){return e._h?e._h.apply(null,n):e._q.push(n)}var e={_q:[],_h:null,_v:"2.0",on:function(){i(["on",c.call(arguments)])},once:function(){i(["once",c.call(arguments)])},off:function(){i(["off",c.call(arguments)])},get:function(){if(!e._h)throw new Error("[LiveChatWidget] You can't use getters before load.");return i(["get",c.call(arguments)])},call:function(){i(["call",c.call(arguments)])},init:function(){var n=t.createElement("script");n.async=!0,n.type="text/javascript",n.src="https://cdn.livechatinc.com/tracking.js",t.head.appendChild(n)}};!n.__lc.asyncInit&&e.init(),n.LiveChatWidget=n.LiveChatWidget||e}(window,document,[].slice)</script>
<noscript><a href="https://www.livechat.com/chat-with/14938650/" rel="nofollow">Chat with us</a>, powered by <a href="https://www.livechat.com/?welcome" rel="noopener nofollow" target="_blank">LiveChat</a></noscript>
<!-- End of LiveChat code --></div></div></div></footer></div>
<script src="/assets/js/runtime~main.fdf35136.js"></script>
<script src="/assets/js/main.4c8d64d1.js"></script>
</body>
</html>